/**
 * The code below is a C port of nodejs' URL implementation
 */